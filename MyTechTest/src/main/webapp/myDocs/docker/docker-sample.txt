win7与virtualbox centos7通信方法：http://blog.csdn.net/lydyangliu/article/details/12276689

yum install -y docker
service docker start
chkconfig docker on

查看可用的jdk列表：
yum search java | grep -i --color JDK

1、、生成Dockerfile
cd /root/imgtest
vi Dockerfile
Dockerfile的内容如下（一个包含java和tomcat的镜像）：
FROM centos
MAINTAINER yinsl "2225646595@qq.com"
RUN yum install -y java-1.8.0-openjdk-devel.x86_64 wget
RUN wget http://mirrors.hust.edu.cn/apache/tomcat/tomcat-8/v8.0.33/bin/apache-tomcat-8.0.33.tar.gz
RUN tar zxf apache-tomcat-8.0.33.tar.gz -C /usr/local
EXPOSE 8080
CMD /usr/local/apache-tomcat-8.0.33/bin/catalina.sh run

3、生成镜像
docker build -t tomcat:v8.0.33 .

4、查看镜像列表
docker images

6、运行容器
docker run -p 80:8080 tomcat:v8.0.33    #80:8080是宿主机的80端口映射到容器的8080端口

7、查看容器：
docker ps -a

8、宿主机上的浏览器输入：http://localhost就可以看到tomcat首页了
如果没有图形界面，也可输入：curl http://localhost/

9、停止容器：
docker stop containerId

10、启动容器：
docker start containerId

10、删除容器：
docker rm containerId

11、删除镜像
docker rmi imgId

docker私有仓库搭建：
1、安装docker
yum install -y docker
service docker start
chkconfig docker on

2、下载registry镜像
docker pull registry

3、启动registry容器
docker run -d -p 5000:5000 registry -v /opt/data/registry:/tmp/registry registry
默认情况下，仓库存放于容器内的/tmp/registry目录下，这样如果容器被删除，则存放于容器中的镜像也会丢失，
所以我们一般情况下会指定本地一个目录挂载到容器内的/tmp/registry下

4、测试（另一台机器）：
a、下载一个小镜像：
[root@localhost ~]# docker pull busybox
[root@localhost ~]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
docker.io/busybox   latest              307ac631f1b5        8 weeks ago         1.113 MB

b、修改该镜像的tag：
[root@localhost ~]# docker tag busybox 10.25.31.102:5000/busybox
[root@localhost ~]# docker images
REPOSITORY                  TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
docker.io/busybox           latest              307ac631f1b5        8 weeks ago         1.113 MB
10.25.31.102:5000/busybox   latest              307ac631f1b5        8 weeks ago         1.113 MB

c、把打了tag的镜像上传到私有仓库：
docker push 192.168.112.136:5000/busybox


